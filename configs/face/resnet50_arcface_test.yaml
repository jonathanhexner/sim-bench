# Face Recognition Test Configuration
# For quick sanity checks and debugging

seed: 42
device: "cpu"

data:
  data_format: "recordio"
  rec_path: "D:/DataSets/casia_Webface/casia-webface/train.rec"
  num_classes: 10572
  val_ratio: 0.1
  num_workers: 0  # Single worker for debugging

model:
  backbone: "resnet50"
  pretrained: true
  embedding_dim: 512
  num_classes: 10572
  dropout: 0.0
  arcface_margin: 0.5
  arcface_scale: 64.0

transform:
  input_size: 112
  normalize_mean: [0.5, 0.5, 0.5]
  normalize_std: [0.5, 0.5, 0.5]
  augmentation:
    horizontal_flip: 0.5

training:
  batch_size: 16
  learning_rate: 0.001  # Lower LR to prevent divergence (head gets 0.01)
  differential_lr: true
  optimizer: "sgd"
  momentum: 0.9
  weight_decay: 0.0005
  max_epochs: 3
  early_stop_patience: 5

telemetry:
  enabled: true
  collect_every_n: 10

log_interval: 10
max_batches: 50  # Only run 50 batches per epoch for testing
